# Функция подсветки билетов квестов в инвентаре

## Описание
Реализована функция подсветки билетов квестов в инвентаре игрока при клике на соответствующий квест в левой панели доски объявлений. Эта функция помогает игрокам быстро найти нужный билет квеста среди других предметов в инвентаре.

## Как это работает

### 1. Выбор квеста на доске объявлений
- При клике на квест в левой панели доски объявлений квест выделяется
- Система автоматически ищет соответствующий билет квеста в инвентаре игрока
- Если билет найден, запускается анимация подсветки

### 2. Анимация подсветки
- Билет подсвечивается золотой рамкой с пульсирующим эффектом
- Подсветка длится 3 секунды
- Интенсивность подсветки меняется от 30% до 70% с периодом 1 секунда
- Эффект создает плавную пульсацию, привлекающую внимание к билету

### 3. Автоматическая очистка
- Подсветка автоматически исчезает через 3 секунды
- При закрытии доски объявлений все подсветки очищаются немедленно
- Система не влияет на производительность игры

## Технические детали

### Файлы изменений

#### BountyBoardScreen.java
- Добавлена переменная `selectedQuest` для отслеживания выбранного квеста
- Обновлен метод `mouseClicked()` для вызова подсветки при клике на квест
- Добавлены методы:
  - `highlightQuestTicketInInventory()` - поиск и подсветка билета
  - `startTicketHighlightAnimation()` - запуск анимации подсветки
  - `shouldHighlightTicket()` - проверка необходимости подсветки
  - `getHighlightIntensity()` - расчет интенсивности подсветки
  - `clearAllTicketHighlights()` - очистка всех подсветок

#### QuestTicketHighlightMixin.java (новый файл)
- Mixin для класса `HandledScreen`
- Перехватывает отрисовку слотов инвентаря
- Добавляет визуальную подсветку для билетов квестов
- Отрисовывает золотую рамку и легкую подсветку фона

### Алгоритм работы

1. **Клик по квесту**: Игрок кликает на квест в левой панели доски объявлений
2. **Поиск билета**: Система ищет билет с соответствующим ID квеста в инвентаре
3. **Установка меток**: В NBT билета добавляются метки времени и подсветки
4. **Отрисовка**: Mixin перехватывает отрисовку слота и добавляет подсветку
5. **Автоочистка**: Через 3 секунды или при закрытии экрана подсветка убирается

### NBT данные для подсветки
```json
{
  "highlight_start_time": 1234567890123,  // Время начала подсветки в миллисекундах
  "highlight_slot": 15,                   // Индекс слота (для отладки)
  "should_highlight": true                // Флаг необходимости подсветки
}
```

## Использование

### Для игроков
1. Откройте доску объявлений
2. Кликните на любой квест в левой панели
3. Соответствующий билет в инвентаре будет подсвечен золотой рамкой
4. Подсветка исчезнет через 3 секунды или при закрытии доски

### Для разработчиков
Функция полностью автоматическая и не требует дополнительной настройки. Все методы статические и могут быть использованы из других частей кода при необходимости.

## Совместимость
- Работает с любыми модами инвентаря
- Не конфликтует с другими визуальными эффектами
- Совместимо с системой drag-and-drop квестов
- Поддерживает все типы билетов квестов (обычные, необычные, редкие, эпические)

## Производительность
- Минимальное влияние на FPS (только при активной подсветке)
- Автоматическая очистка предотвращает утечки памяти
- Эффективный поиск билетов в инвентаре
- Оптимизированная отрисовка через Mixin

## Отладка
Для отладки в логах появляются сообщения:
```
[Origins] Подсвечиваем билет квеста в слоте 15
```

Это помогает отследить работу системы подсветки.