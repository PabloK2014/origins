# Исправление проблемы "Нет доступных квестов" на доске объявлений

## Проблема
Доска объявлений показывала сообщение "Нет доступных квестов", хотя в логах было видно, что квесты загружаются (120 квестов из JSON файлов).

## Причина
1. В конструкторе `BountyBoardBlockEntity` вызывался `generateRandomQuests()` когда `world` еще был `null`
2. Метод `getAvailableQuests()` не мог правильно извлечь квесты из `ItemStack` билетов
3. Несоответствие форматов сохранения/загрузки наград в NBT

## Исправления

### 1. BountyBoardBlockEntity.java
- Убран вызов `generateRandomQuests()` из конструктора
- Улучшен метод `tryInitialPopulation()` с проверками мира
- Добавлены проверки в `generateRandomQuests()` и `refreshQuests()`
- Исправлен метод `getAvailableQuests()` для правильного извлечения квестов из билетов
- Улучшена отладочная информация

### 2. QuestTicketItem.java
- Исправлено сохранение наград в NBT (добавлена совместимость со старым форматом)
- Награды теперь сохраняются и в формате `rewards`, и в формате `reward`

### 3. QuestItem.java
- Улучшен метод `getQuestFromStack()` для загрузки наград из обоих форматов
- Добавлено создание награды по умолчанию если награда не найдена

## Логика работы
1. Квесты загружаются из JSON файлов через `QuestResourceReloadListener` при старте сервера
2. `BountyBoardBlockEntity` использует уже загруженные квесты вместо повторной загрузки
3. Квесты создаются как билеты (`QuestTicketItem`) и сохраняются в инвентаре доски
4. При открытии интерфейса квесты извлекаются из билетов и отображаются

## Тестирование
Запустите `test_bounty_board_fix.bat` для проверки исправлений.

## Ожидаемый результат
- Доска объявлений должна показывать квесты вместо "Нет доступных квестов"
- В логах должны появиться сообщения о создании и добавлении квестов
- Квесты должны быть доступны для принятия игроками